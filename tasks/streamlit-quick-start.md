# Streamlit ç®¡ç†ä»ªè¡¨ç›˜å¿«é€Ÿå¯åŠ¨æŒ‡å—

> **5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹** | å®Œæ•´è®¡åˆ’è§ `streamlit-dashboard-plan.md`

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡ (2 åˆ†é’Ÿ)

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Volumes/ExtDISK/github/Quicksilver

# åˆ›å»ºä»ªè¡¨ç›˜ç›®å½•
mkdir -p dashboard && cd dashboard

# åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install streamlit requests pandas plotly python-dotenv
```

### 2. åˆ›å»ºæœ€å°åŒ–ç¤ºä¾‹ (3 åˆ†é’Ÿ)

```bash
# åˆ›å»ºä¸»å…¥å£æ–‡ä»¶
cat > app.py << 'EOF'
import streamlit as st
import requests

st.set_page_config(
    page_title="Quicksilver ç®¡ç†åå°",
    page_icon="âš¡",
    layout="wide"
)

st.title("âš¡ Quicksilver æ¨¡æ‹Ÿäº¤æ˜“æ‰€ç®¡ç†åå°")

# ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
try:
    health = requests.get("http://localhost:8080/health", timeout=2)
    if health.status_code == 200:
        st.success("âœ… ç³»ç»Ÿè¿è¡Œæ­£å¸¸")
    else:
        st.error("âŒ ç³»ç»Ÿå¼‚å¸¸")
except:
    st.error("âŒ æ— æ³•è¿æ¥åˆ° API æœåŠ¡")

# ä¾§è¾¹æ å¯¼èˆª
st.sidebar.title("ğŸ“‹ åŠŸèƒ½æ¨¡å—")
page = st.sidebar.radio(
    "é€‰æ‹©é¡µé¢",
    ["ğŸ“Š æ•°æ®æ¦‚è§ˆ", "ğŸ‘¥ ç”¨æˆ·ç®¡ç†", "ğŸ“ è®¢å•ç®¡ç†", "ğŸ’° æˆäº¤è®°å½•"]
)

# ç®€å•ç¤ºä¾‹: è¡Œæƒ…æ•°æ®
if page == "ğŸ“Š æ•°æ®æ¦‚è§ˆ":
    st.header("å®æ—¶è¡Œæƒ…")

    try:
        ticker = requests.get("http://localhost:8080/v1/ticker/BTC-USDT").json()

        col1, col2, col3 = st.columns(3)
        with col1:
            st.metric("BTC/USDT", f"${ticker.get('last', 0):,.2f}")
        with col2:
            st.metric("24h æœ€é«˜", f"${ticker.get('high', 0):,.2f}")
        with col3:
            st.metric("24h æœ€ä½", f"${ticker.get('low', 0):,.2f}")
    except Exception as e:
        st.error(f"è·å–è¡Œæƒ…å¤±è´¥: {e}")

elif page == "ğŸ‘¥ ç”¨æˆ·ç®¡ç†":
    st.header("ç”¨æˆ·ç®¡ç†")
    st.info("å¾…å®ç°: ç”¨æˆ·åˆ—è¡¨ã€åˆ›å»ºã€ç¼–è¾‘åŠŸèƒ½")

elif page == "ğŸ“ è®¢å•ç®¡ç†":
    st.header("è®¢å•ç®¡ç†")
    st.info("å¾…å®ç°: è®¢å•æŸ¥è¯¢ã€è¿‡æ»¤ã€æ’¤é”€åŠŸèƒ½")

elif page == "ğŸ’° æˆäº¤è®°å½•":
    st.header("æˆäº¤è®°å½•")
    st.info("å¾…å®ç°: æˆäº¤æŸ¥è¯¢ã€ç»Ÿè®¡ã€å¯¼å‡ºåŠŸèƒ½")
EOF

# å¯åŠ¨ä»ªè¡¨ç›˜
streamlit run app.py
```

æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ `http://localhost:8501`

---

## ğŸ“ å®Œæ•´é¡¹ç›®ç»“æ„ (Week 10-11 å®ç°)

```text
dashboard/
â”œâ”€â”€ app.py                          # âœ… ä¸»å…¥å£ (å·²åˆ›å»º)
â”œâ”€â”€ requirements.txt                # â³ ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ .env.example                    # â³ ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ config.py                       # â³ é…ç½®ç®¡ç†
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ client.py                   # â³ API å®¢æˆ·ç«¯å°è£…
â”‚   â””â”€â”€ endpoints.py                # â³ API ç«¯ç‚¹å®šä¹‰
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ 1_ğŸ‘¥_ç”¨æˆ·ç®¡ç†.py            # â³ ç”¨æˆ· CRUD
â”‚   â”œâ”€â”€ 2_ğŸ“Š_æ•°æ®æ¦‚è§ˆ.py            # â³ å®æ—¶æ•°æ®ä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ 3_ğŸ“_è®¢å•ç®¡ç†.py            # â³ è®¢å•æŸ¥è¯¢ç®¡ç†
â”‚   â”œâ”€â”€ 4_ğŸ’°_æˆäº¤è®°å½•.py            # â³ æˆäº¤è®°å½•æŸ¥è¯¢
â”‚   â”œâ”€â”€ 5_ğŸ’µ_ä½™é¢ç®¡ç†.py            # â³ ä½™é¢è°ƒæ•´
â”‚   â””â”€â”€ 6_ğŸ”§_ç³»ç»Ÿç›‘æ§.py            # â³ å¥åº·æ£€æŸ¥
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ metrics.py                  # â³ æŒ‡æ ‡å¡ç‰‡
â”‚   â”œâ”€â”€ charts.py                   # â³ å›¾è¡¨ç»„ä»¶
â”‚   â””â”€â”€ tables.py                   # â³ è¡¨æ ¼ç»„ä»¶
â””â”€â”€ utils/
    â”œâ”€â”€ auth.py                     # â³ è®¤è¯å·¥å…·
    â”œâ”€â”€ formatters.py               # â³ æ•°æ®æ ¼å¼åŒ–
    â””â”€â”€ validators.py               # â³ æ•°æ®éªŒè¯
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¸…å•

### Week 10 (Day 1-5)

- [ ] **Day 1-2**: ç¯å¢ƒæ­å»º + API å®¢æˆ·ç«¯å°è£…

  - [x] Python è™šæ‹Ÿç¯å¢ƒ
  - [x] åŸºç¡€é¡µé¢æ¡†æ¶
  - [ ] API ç­¾åè®¤è¯
  - [ ] è¯·æ±‚å°è£…ç±»

- [ ] **Day 3-4**: ç”¨æˆ·ç®¡ç†é¡µé¢

  - [ ] ç”¨æˆ·åˆ—è¡¨è¡¨æ ¼
  - [ ] æœç´¢/è¿‡æ»¤åŠŸèƒ½
  - [ ] åˆ›å»ºç”¨æˆ·è¡¨å•
  - [ ] API Key ç”Ÿæˆ/æ˜¾ç¤º
  - [ ] ç”¨æˆ·çŠ¶æ€ç¼–è¾‘

- [ ] **Day 5**: æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜
  - [ ] å…³é”®æŒ‡æ ‡å¡ç‰‡ (ç”¨æˆ·æ•°/è®¢å•æ•°/æˆäº¤é¢)
  - [ ] å®æ—¶è¡Œæƒ…åˆ·æ–°
  - [ ] è®¢å•ç±»å‹åˆ†å¸ƒå›¾ (é¥¼å›¾)

### Week 11 (Day 1-5)

- [ ] **Day 1-2**: å®Œå–„æ•°æ®æ¦‚è§ˆ + è®¢å•ç®¡ç†

  - [ ] æ¯æ—¥è®¢å•é‡è¶‹åŠ¿å›¾ (æŠ˜çº¿å›¾)
  - [ ] è®¢å•åˆ—è¡¨æŸ¥è¯¢
  - [ ] å¤šæ¡ä»¶è¿‡æ»¤
  - [ ] è®¢å•è¯¦æƒ…å¼¹çª—
  - [ ] æ’¤é”€è®¢å•åŠŸèƒ½

- [ ] **Day 3**: æˆäº¤è®°å½•æŸ¥è¯¢

  - [ ] æˆäº¤åˆ—è¡¨å±•ç¤º
  - [ ] æ—¶é—´èŒƒå›´è¿‡æ»¤
  - [ ] å¯¼å‡º CSV åŠŸèƒ½

- [ ] **Day 4**: ä½™é¢ç®¡ç† + ç³»ç»Ÿç›‘æ§

  - [ ] ä½™é¢æ€»è§ˆ
  - [ ] å……å€¼/æ‰£æ¬¾æ“ä½œ
  - [ ] å¥åº·æ£€æŸ¥çŠ¶æ€
  - [ ] é”™è¯¯æ—¥å¿—æŸ¥è¯¢

- [ ] **Day 5**: æµ‹è¯•ã€ä¼˜åŒ–ã€æ–‡æ¡£
  - [ ] åŠŸèƒ½æµ‹è¯•
  - [ ] æ€§èƒ½ä¼˜åŒ–
  - [ ] ç¼–å†™ä½¿ç”¨æ–‡æ¡£

---

## ğŸ”§ åç«¯ API æ‰©å±•éœ€æ±‚

### éœ€æ–°å¢æ¥å£ (ä¼˜å…ˆçº§ P0)

```go
// ç”¨æˆ·ç®¡ç†
GET    /admin/users                      - ç”¨æˆ·åˆ—è¡¨
POST   /admin/users                      - åˆ›å»ºç”¨æˆ·
PUT    /admin/users/{id}                 - æ›´æ–°ç”¨æˆ·
DELETE /admin/users/{id}                 - åˆ é™¤ç”¨æˆ·
POST   /admin/users/{id}/regenerate-key  - é‡æ–°ç”Ÿæˆ API Key

// æ•°æ®ç»Ÿè®¡
GET    /admin/stats/overview             - ç³»ç»Ÿæ¦‚è§ˆç»Ÿè®¡
GET    /admin/stats/orders               - è®¢å•ç»Ÿè®¡
GET    /admin/stats/trades               - æˆäº¤ç»Ÿè®¡

// ä½™é¢ç®¡ç†
GET    /admin/balances                   - æ‰€æœ‰ç”¨æˆ·ä½™é¢
POST   /admin/balance/adjust             - è°ƒæ•´ä½™é¢

// ç³»ç»Ÿç›‘æ§
GET    /admin/health/detailed            - è¯¦ç»†å¥åº·æ£€æŸ¥
GET    /admin/logs/errors                - é”™è¯¯æ—¥å¿—æŸ¥è¯¢
```

**å®ç°æ–‡ä»¶**: `internal/api/admin_handlers.go` (æ–°å»º)

**é¢„è®¡å·¥æ—¶**: 3 å¤©

---

## ğŸ“Š åŠŸèƒ½æ¼”ç¤º (é¢„æœŸæ•ˆæœ)

### 1. æ•°æ®æ¦‚è§ˆé¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·æ€»æ•°: 128 â†‘12   ä»Šæ—¥è®¢å•: 345 â†“23              â”‚
â”‚  æˆäº¤é¢: $1,234,567 â†‘15%   ç³»ç»Ÿåœ¨çº¿: 3å¤© 12å°æ—¶    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ BTC/USDT: $50,000.00 (+2.5%)                    â”‚
â”‚  ğŸ“Š 24h æˆäº¤é‡: 1,234.56 BTC                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [é¥¼å›¾] è®¢å•ç±»å‹åˆ†å¸ƒ                                â”‚
â”‚  å¸‚ä»·å• 45% | é™ä»·å• 40% | æ­¢æŸæ­¢ç›ˆ 15%            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æŠ˜çº¿å›¾] æ¯æ—¥è®¢å•é‡è¶‹åŠ¿ (è¿‘ 30 å¤©)                â”‚
â”‚  è¶‹åŠ¿: ç¨³æ­¥ä¸Šå‡                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ç”¨æˆ·ç®¡ç†é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” æœç´¢: [___________]  çŠ¶æ€: [å…¨éƒ¨ â–¼]            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ID â”‚ é‚®ç®±         â”‚ çŠ¶æ€   â”‚ API Key          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 1  â”‚ user@ex.com  â”‚ active â”‚ key_abc123...    â”‚ â”‚
â”‚  â”‚ 2  â”‚ test@ex.com  â”‚ active â”‚ key_def456...    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [â• åˆ›å»ºæ–°ç”¨æˆ·]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨ Quicksilver API (ç»ˆç«¯ 1)
cd /Volumes/ExtDISK/github/Quicksilver
make dev

# å¯åŠ¨ Streamlit ä»ªè¡¨ç›˜ (ç»ˆç«¯ 2)
cd dashboard
source venv/bin/activate
streamlit run app.py

# å®‰è£…æ–°ä¾èµ–
pip install <package>
pip freeze > requirements.txt

# åœæ­¢æœåŠ¡
Ctrl + C
```

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. è¿æ¥ API å¤±è´¥

```bash
# æ£€æŸ¥ API æ˜¯å¦è¿è¡Œ
curl http://localhost:8080/health

# æ£€æŸ¥ Docker å®¹å™¨
docker-compose ps
```

### 2. ç«¯å£è¢«å ç”¨

```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :8501

# ä¿®æ”¹ Streamlit ç«¯å£
streamlit run app.py --server.port=8502
```

### 3. ä¾èµ–å®‰è£…å¤±è´¥

```bash
# å‡çº§ pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒ
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple <package>
```

---

## ğŸ“š å‚è€ƒèµ„æº

- **å®Œæ•´è®¡åˆ’**: `streamlit-dashboard-plan.md`
- **Streamlit æ–‡æ¡£**: https://docs.streamlit.io/
- **Plotly å›¾è¡¨**: https://plotly.com/python/
- **API æ–‡æ¡£**: `docs/api.md` (å¾…ç”Ÿæˆ)

---

**å¿«é€Ÿå¯åŠ¨ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-11-05  
**ä¸‹ä¸€æ­¥**: å¼€å§‹å®ç°ä»»åŠ¡ #1 ğŸš€
